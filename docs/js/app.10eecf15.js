(function(t){function e(e){for(var i,o,u=e[0],s=e[1],h=e[2],p=0,l=[];p<u.length;p++)o=u[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&l.push(r[o][0]),r[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);a&&a(e);while(l.length)l.shift()();return c.push.apply(c,h||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],i=!0,u=1;u<n.length;u++){var s=n[u];0!==r[s]&&(i=!1)}i&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},c=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/stopheight/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var a=s;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"03ab":function(t,e,n){},"0fdc":function(t,e,n){},"1bdc":function(t,e,n){t.exports=n.p+"img/teasel_avatar.313a7cc6.jpg"},"31a4":function(t,e,n){"use strict";n("0fdc")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),r=n("1bdc"),c=n.n(r),o=Object(i["d"])("img",{alt:"Vue logo",src:c.a},null,-1);function u(t,e,n,r,c,u){var s=Object(i["i"])("StopHeight");return Object(i["f"])(),Object(i["c"])(i["a"],null,[o,Object(i["e"])(s,{chain:"fetchhub"})],64)}var s=function(t){return Object(i["h"])("data-v-1d3bb678"),t=t(),Object(i["g"])(),t},h={class:"stopheight"},a=s((function(){return Object(i["d"])("h1",null,"Calculate stop height for fetchd networks",-1)})),p=s((function(){return Object(i["d"])("label",{for:"stoptime"},"Stop Time",-1)})),l=s((function(){return Object(i["d"])("label",{for:"stopheight"},"Stop Height",-1)}));function b(t,e,n,r,c,o){return Object(i["f"])(),Object(i["c"])("div",h,[a,Object(i["d"])("h2",null,"Chain = "+Object(i["j"])(n.chain),1),Object(i["d"])("form",{onSubmit:e[2]||(e[2]=Object(i["m"])((function(){return t.submitPressed&&t.submitPressed.apply(t,arguments)}),["prevent"]))},[p,Object(i["l"])(Object(i["d"])("input",{type:"datetime-local",id:"stoptime",name:"stoptime","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.stoptime=t})},null,512),[[i["k"],o.stoptime]]),l,Object(i["l"])(Object(i["d"])("input",{type:"number",id:"stopheight",name:"stopheight","onUpdate:modelValue":e[1]||(e[1]=function(t){return o.stopheight=t})},null,512),[[i["k"],o.stopheight]])],32),Object(i["d"])("p",null,"RecentHeight: "+Object(i["j"])(c.recentheight),1),Object(i["d"])("p",null,"RecentTime: "+Object(i["j"])(o.recenttime),1),Object(i["d"])("p",null,"BlockTime: "+Object(i["j"])(c.blocktime),1),Object(i["d"])("p",null,"StopHeight: "+Object(i["j"])(o.stopheight),1),Object(i["d"])("p",null,"StopTime: "+Object(i["j"])(o.stoptime),1)])}var f=n("1da1"),d=(n("96cf"),n("bc3a")),g=n.n(d),m={name:"StopHeight",props:{chain:String},data:function(){return{recenttime_unix:0,recentheight:0,stoptime_unix:0,stop_height:0,blocktime:6.08}},computed:{stoptime:{get:function(){return new Date(1e3*this.stoptime_unix).toISOString().substring(0,19)},set:function(t){this.stoptime_unix=new Date(t).getTime()/1e3,this.stop_height=Math.round(this.recentheight+(this.stoptime_unix-this.recenttime_unix)/this.blocktime)}},stopheight:{get:function(){return this.stop_height},set:function(t){var e=parseInt(t);e<this.recentheight&&(e=this.recentheight),this.stop_height=e,this.stoptime_unix=this.recenttime_unix+(this.stopheight-this.recentheight)*this.blocktime}},recenttime:function(){return new Date(1e3*this.recenttime_unix).toISOString().substring(0,19)}},created:function(){this.recenttime_unix=1643875715,this.recentheight=443e4,this.blocktime=6.08,this.stopheight=this.recentheight+1e3},mounted:function(){this.fetchrecentchaindata()},methods:{fetchrecentchaindata:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n,i,r,c,o,u,s,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=100,e.prev=1,e.next=4,g.a.get("https://rpc-fetchhub.fetch.ai/status");case 4:return i=e.sent,r=parseInt(i.data.result.sync_info.latest_block_height),c=new Date(i.data.result.sync_info.latest_block_time).getTime()/1e3,t.recentheight=r,t.recenttime_unix=c,t.stopheight<r&&(t.stopheight=r+1e3),o=r-n,e.next=13,g.a.get("https://rpc-fetchhub.fetch.ai/block?height=".concat(o));case 13:u=e.sent,console.log(u),s=new Date(u.data.result.block.header.time).getTime()/1e3,h=(c-s)/n,t.blocktime=h,e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))()}}},j=(n("31a4"),n("6b0d")),O=n.n(j);const v=O()(m,[["render",b],["__scopeId","data-v-1d3bb678"]]);var _=v,x={name:"App",components:{StopHeight:_}};n("f760");const y=O()(x,[["render",u]]);var k=y;Object(i["b"])(k).mount("#app")},f760:function(t,e,n){"use strict";n("03ab")}});
//# sourceMappingURL=app.10eecf15.js.map